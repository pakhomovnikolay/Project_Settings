<Window x:Class="Project_Settings.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008" mc:Ignorable="d"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:l="clr-namespace:Project_Settings"
        xmlns:vm="clr-namespace:Project_Settings.ViewModels"
        Title="{Binding Path=MyTitle}"
        Background="{DynamicResource ResultBackground}"
        Foreground="{DynamicResource ResultForeground}"
        Height="auto" Width="auto" MinHeight="400" MinWidth="800"
        WindowState="Maximized" WindowStartupLocation="CenterScreen">

    <!--Closing="Window_Closing"-->
    

    <Window.DataContext>
        <vm:MainWindowsViewModel/>
    </Window.DataContext>

    <DockPanel>
        <!--<Grid DockPanel.Dock="Top" Height="20">
            <DockPanel Height="20">

                <Button DockPanel.Dock="Right" Command="{Binding Path=CmdCloseApp}" Foreground="{Binding Path=ResultForeground}" Background="{Binding Path=ResultBackground}" BorderThickness="0" Width="25" Content="X"/>
                <Button DockPanel.Dock="Right" Command="{Binding Path=CmdMaximized}" Foreground="{Binding Path=ResultForeground}" Background="{Binding Path=ResultBackground}" BorderThickness="0" Width="25" Content="[___]"/>
                <Button DockPanel.Dock="Right" Command="{Binding Path=CmdMinimized}" Foreground="{Binding Path=ResultForeground}" Background="{Binding Path=ResultBackground}" BorderThickness="0" Width="25" Content="___"/>
                <TextBlock Text="{Binding Path=MyTitle}"/>
            </DockPanel>
            
        </Grid>-->

        <Menu DockPanel.Dock="Top">
            <MenuItem Header="Файл">
                <MenuItem Header="Создать"/>
                <MenuItem Header="Открыть"/>
                <MenuItem Header="Сохранить"/>
                <MenuItem Header="Сохранить как"/>
                <MenuItem Header="Настройки"/>
            </MenuItem>
            <MenuItem Header="Надстройки">
            </MenuItem>

            <MenuItem Header="Формат">
            </MenuItem>

            <CheckBox x:Name="CBoxBlackTheames"
                  Content="Установить темную тему"
                  Width="200" Height="15" IsEnabled="{Binding flWhiteTheames}"
                  IsThreeState="False"
                  Foreground="{Binding Path=ResultMenuItemForeground}"
                  IsChecked="{Binding flBlackTheames}"
                  Command="{Binding CmdSetBlackTheames}"/>

            <CheckBox x:Name="CBoxWhiteTheames"
                  Content="Установить светлую тему"
                  Width="200" Height="15" IsEnabled="{Binding flBlackTheames}"
                  IsThreeState="False"
                  Foreground="{Binding Path=ResultMenuItemForeground}"
                  IsChecked="{Binding flWhiteTheames}"
                  Command="{Binding CmdSetWhiteTheames}"/>
        </Menu>

        <ToolBarPanel DockPanel.Dock="Bottom" Height="30">
            <DockPanel>
                <TextBlock x:Name="myVersion" DockPanel.Dock="Left" Text="{Binding MyVersion}" Margin="5,0,0,0"/>
            </DockPanel>
        </ToolBarPanel>

        <Grid DockPanel.Dock="Left">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="250"/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>
            <!--<ListBox Grid.Column="0" ItemsSource="{Binding Path=MyDataGridItems}" SelectedItem="{Binding Path=SelectedSheets}">
                <ListBox.ItemTemplate>
                    <DataTemplate DataType="l:Group">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="{Binding Path=Name}" Name="TextView"/>
                        </StackPanel>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>-->

            <!--ItemsSource="{Binding Path=MyDataGridItems}" Selector.IsSelected="{Binding Path=SelectedSheets}"-->
            <GroupBox Header="Список листов" Grid.Column="0" BorderBrush="{DynamicResource ResultBorderBrush}">
                <ListBox ItemsSource="{Binding Path=MyDataGridItems.Sheet}" SelectedItem="{Binding Path=SelectedSheets}">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding Path=Name}"/>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
                <!--<TreeView ItemsSource="{Binding Path=MyDataGridItems}">
                    --><!--<ListBox  SelectedItem="{Binding Path=SelectedSheets}">
                        <ListBox.ItemTemplate>
                            <DataTemplate DataType="l:Group">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="{Binding Path=Name}" Name="TextView"/>
                                </StackPanel>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>--><!--
                    <TreeView.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding Path=Name}"/>
                        </DataTemplate>
                    </TreeView.ItemTemplate>
                </TreeView>-->
            </GroupBox>
            <!--<TreeView Grid.Column="0" ItemsSource="{Binding Path=MyDataGridItems}">
                <TreeView.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding Path=Name}"/>
                    </DataTemplate>
                </TreeView.ItemTemplate>
                --><!--<TreeView.ItemContainerStyle>
                    <Style TargetType="TreeViewItem">
                        <Setter Property="IsSelected" Value="{Binding SelectedSheets, Mode=OneWay}"/>
                    </Style>
                </TreeView.ItemContainerStyle>-->
                <!--<TreeView.ItemTemplate>
                    <HierarchicalDataTemplate ItemsSource="{Binding Path=}"></HierarchicalDataTemplate>
                </TreeView.ItemTemplate>-->
                  <!--<TreeView.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding Path=Name}" Name="TextView"/>
                    </DataTemplate>
                </TreeView.ItemTemplate>-->
                <!--<TreeView.ItemContainerStyle>
                    <Style TargetType="TreeViewItem">
                        <Setter Property="IsSelected" Value="{Binding Path=}"/>
                    </Style>
                </TreeView.ItemContainerStyle>-->
                <!--<TreeViewItem Header="Листы" BindingGroup="{Bi}" ItemTemplateSelector="{Binding Path=SelectedSheets}"/>
                <TreeViewItem Header="Сообщения листов" ItemsSource="{Binding Path=TreeViewItemMsgSource}"/>--><!--
            </TreeView>-->
            <GroupBox Grid.Column="1" BorderBrush="{DynamicResource ResultBorderBrush}">
                <GroupBox.Header>
                    <TextBlock Text="{Binding Path=SelectedSheets.Name, StringFormat=Выбраный лист - {0}, FallbackValue='Данные листа', TargetNullValue='Группа не выбрана'}"/>
                </GroupBox.Header>
                <DataGrid
                    
                    BorderBrush="{DynamicResource ResultBorderBrush}"
                    ItemsSource="{Binding Path=MyDataTable.ItemsSource}">
                    
                    <!--<DataGrid.Columns>
                        <DataGridTextColumn Header="{Binding Path=MyDataTable.Items}"/>
                    </DataGrid.Columns>-->
                    <!--<DataGridTemplateColumn>
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate DataType=""
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>-->
                </DataGrid>
            </GroupBox>
            
        </Grid>
    </DockPanel>
</Window>
